╔═══════════════════════════════════════════════════════════════════════════════╗
║                    SCHÉMA DE BRANCHEMENT - PROJET i3                          ║
╚═══════════════════════════════════════════════════════════════════════════════╝

┌─────────────────────────────────────────────────────────────────────────────┐
│                              ÉMETTEUR ESP32                                  │
└─────────────────────────────────────────────────────────────────────────────┘

                              ┌──────────────┐
                              │   ESP32      │
                              │   ÉMETTEUR   │
                              │              │
                   GPIO 32 ◄──┤ 32           │
                              │              │
                   GPIO 17 ◄──┤ 17 (TX)      │
                   GPIO 16 ◄──┤ 16 (RX)      │
                   GPIO 4  ◄──┤ 4            │
                   GPIO 2  ◄──┤ 2            │
                              │              │
                   3.3V    ◄──┤ 3.3V         │
                   GND     ◄──┤ GND          │
                              └──────────────┘
                                     │
                    ┌────────────────┼────────────────┐
                    │                │                │
                    ▼                ▼                ▼
              ┌──────────┐    ┌──────────┐    ┌──────────┐
              │  BOUTON  │    │ MODULE   │    │   LED    │
              │ POUSSOIR │    │  LoRa    │    │ (option) │
              └──────────┘    │  E32     │    └──────────┘
                              └──────────┘

┌───────────────────────────────────────────────────────────────────┐
│ BOUTON POUSSOIR                                                   │
├───────────────────────────────────────────────────────────────────┤
│                                                                   │
│   Une patte du bouton ──────► GPIO 32                            │
│   Autre patte du bouton ────► GND                                │
│                                                                   │
│   Note : Pas de résistance nécessaire (pull-up interne)          │
│                                                                   │
└───────────────────────────────────────────────────────────────────┘

┌───────────────────────────────────────────────────────────────────┐
│ MODULE LoRa E32                                                   │
├───────────────────────────────────────────────────────────────────┤
│                                                                   │
│   TX du module  ──────► GPIO 16 (RX ESP32)                       │
│   RX du module  ──────► GPIO 17 (TX ESP32)                       │
│   AUX du module ──────► GPIO 4                                   │
│   VCC           ──────► 3.3V ou 5V (selon module)                │
│   GND           ──────► GND                                      │
│                                                                   │
└───────────────────────────────────────────────────────────────────┘

┌───────────────────────────────────────────────────────────────────┐
│ LED (feedback visuel - optionnel)                                │
├───────────────────────────────────────────────────────────────────┤
│                                                                   │
│   GPIO 2 ───► [Résistance 220Ω] ───► Anode LED (+)              │
│                                       Cathode LED (-) ───► GND   │
│                                                                   │
└───────────────────────────────────────────────────────────────────┘


┌─────────────────────────────────────────────────────────────────────────────┐
│                              RÉCEPTEUR ESP32                                 │
└─────────────────────────────────────────────────────────────────────────────┘

                              ┌──────────────┐
                              │   ESP32      │
                              │  RÉCEPTEUR   │
                              │              │
                   GPIO 17 ◄──┤ 17 (TX)      │
                   GPIO 16 ◄──┤ 16 (RX)      │
                   GPIO 4  ◄──┤ 4            │
                   GPIO 25 ◄──┤ 25           │
                              │              │
                   3.3V    ◄──┤ 3.3V         │
                   GND     ◄──┤ GND          │
                              └──────────────┘
                                     │
                    ┌────────────────┴────────────────┐
                    │                                 │
                    ▼                                 ▼
              ┌──────────┐                      ┌──────────┐
              │ MODULE   │                      │   LED    │
              │  LoRa    │                      │ MINUTERIE│
              │  E32     │                      └──────────┘
              └──────────┘

┌───────────────────────────────────────────────────────────────────┐
│ MODULE LoRa E32                                                   │
├───────────────────────────────────────────────────────────────────┤
│                                                                   │
│   TX du module  ──────► GPIO 16 (RX ESP32)                       │
│   RX du module  ──────► GPIO 17 (TX ESP32)                       │
│   AUX du module ──────► GPIO 4                                   │
│   VCC           ──────► 3.3V ou 5V (selon module)                │
│   GND           ──────► GND                                      │
│                                                                   │
└───────────────────────────────────────────────────────────────────┘

┌───────────────────────────────────────────────────────────────────┐
│ LED (minuterie)                                                   │
├───────────────────────────────────────────────────────────────────┤
│                                                                   │
│   GPIO 25 ───► [Résistance 220Ω] ───► Anode LED (+)             │
│                                        Cathode LED (-) ───► GND  │
│                                                                   │
└───────────────────────────────────────────────────────────────────┘


╔═══════════════════════════════════════════════════════════════════════════════╗
║                          CONNEXION WiFi RÉCEPTEUR                             ║
╚═══════════════════════════════════════════════════════════════════════════════╝

    Le récepteur crée un point d'accès WiFi :
    
    📱 Réseau WiFi   : ESP32-i3-Config
    🔓 Mot de passe  : (aucun)
    🌐 Adresse IP    : 192.168.4.1
    
    Interface web accessible depuis n'importe quel appareil connecté !


╔═══════════════════════════════════════════════════════════════════════════════╗
║                             NOTES IMPORTANTES                                 ║
╚═══════════════════════════════════════════════════════════════════════════════╝

┌───────────────────────────────────────────────────────────────────┐
│ ALIMENTATION                                                      │
├───────────────────────────────────────────────────────────────────┤
│  • Utiliser une alimentation stable 5V via USB                   │
│  • Ou batterie avec régulateur 3.3V/5V                           │
│  • Module LoRa : vérifier si 3.3V ou 5V                          │
└───────────────────────────────────────────────────────────────────┘

┌───────────────────────────────────────────────────────────────────┐
│ ANTENNES LoRa                                                     │
├───────────────────────────────────────────────────────────────────┤
│  • Toujours brancher une antenne sur les modules LoRa           │
│  • Ne JAMAIS émettre sans antenne (risque de dommage)           │
│  • Fréquence : 433 MHz ou 868 MHz selon région                  │
└───────────────────────────────────────────────────────────────────┘

┌───────────────────────────────────────────────────────────────────┐
│ SÉCURITÉ                                                          │
├───────────────────────────────────────────────────────────────────┤
│  • Les deux ESP32 doivent avoir la même clé de sécurité          │
│  • Clé par défaut : "SECURE123" (modifiable dans le code)       │
└───────────────────────────────────────────────────────────────────┘

┌───────────────────────────────────────────────────────────────────┐
│ TEST INITIAL                                                      │
├───────────────────────────────────────────────────────────────────┤
│  1. Brancher le récepteur seul                                   │
│  2. Se connecter au WiFi "ESP32-i3-Config"                       │
│  3. Configurer les paramètres via l'interface web                │
│  4. Brancher l'émetteur                                          │
│  5. Tester avec le bouton                                        │
└───────────────────────────────────────────────────────────────────┘


═══════════════════════════════════════════════════════════════════════════════
                                 FIN DU SCHÉMA
═══════════════════════════════════════════════════════════════════════════════
